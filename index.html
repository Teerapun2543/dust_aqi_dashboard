<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Air Quality Monitoring Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Firebase SDKs ‡∏ï‡πâ‡∏≠‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Å‡πà‡∏≠‡∏ô -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
  function clearReportForm() {
    document.getElementById('startDate').value = '';
    document.getElementById('endDate').value = '';
    document.getElementById('viewType').value = 'graph';
    ['pm25', 'pm10', 'temp', 'humid'].forEach(id => {
      document.getElementById(id).checked = true;
    });
    document.getElementById('reportResult').innerHTML = '';
  }

  function generateReport() {
    const start = document.getElementById('startDate').value;
    const end = document.getElementById('endDate').value;
    const view = document.getElementById('viewType').value;
    const types = ['pm25', 'pm10', 'temp', 'humid'].filter(id => document.getElementById(id).checked);

    // ‚úÖ ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
    let html = `<p>‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà <b>${start}</b> ‡∏ñ‡∏∂‡∏á <b>${end}</b></p>`;
    html += `<p>‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: <b>${view === 'graph' ? '‡∏Å‡∏£‡∏≤‡∏ü' : '‡∏ï‡∏≤‡∏£‡∏≤‡∏á'}</b></p>`;
    html += `<p>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: <b>${types.join(', ').toUpperCase()}</b></p>`;

    // üëâ ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏£‡∏≤‡∏ü‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Firebase ‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ

    document.getElementById('reportResult').innerHTML = html;
  }
</script>


  </head>
<body>
 <section id="header-bar" class="d-flex justify-content-between align-items-center px-4 py-2 bg-white shadow-sm flex-wrap">
  <!-- ‚úÖ ‡∏™‡πà‡∏ß‡∏ô‡∏ã‡πâ‡∏≤‡∏¢: ‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå -->
  <div class="d-flex align-items-center mb-2 me-auto">
    <h1 class="project-title mb-0" style="font-size: 32px; color: #00e6ff;">
      Dust Monitoring and Protection System for Concrete Batching Plants
    </h1>
  </div>

  <!-- üü¢ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥ -->
<div class="d-flex align-items-center gap-3 flex-wrap">
  <!-- ‡∏õ‡∏∏‡πà‡∏° Manual/Auto -->
  <label class="form-check form-switch m-0 large-toggle">
    <input class="form-check-input" type="checkbox" id="autoManualToggle">
    <span class="form-check-label ms-1" style="font-size: 24px;">Manual/Auto</span>
  </label>

  <!-- ‡∏õ‡∏∏‡πà‡∏° OFF/ON -->
  <label class="form-check form-switch m-0 large-toggle">
    <input class="form-check-input" type="checkbox" id="pumpToggle" disabled>
    <span class="form-check-label ms-1" style="font-size: 24px;">OFF/ON</span>
  </label>

  <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡πä‡∏° -->
 <!-- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡πä‡∏° -->
<div class="d-flex align-items-center gap-2 mt-2">
  <span class="fw-bold" style="font-size: 18px;">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏õ‡∏±‡πä‡∏°:</span>
  <span id="pumpStatusLabel" class="badge rounded-pill bg-secondary px-3 py-1" style="font-size: 16px;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</span>
</div>


</div>

<!-- ‡∏õ‡πâ‡∏≠‡∏ô‡∏Ñ‡πà‡∏≤ PM -->
<div class="d-flex flex-wrap gap-3 mt-2">
  <label class="m-0">
    PM 2.5 
    <input id="pm25Input" type="number" class="form-control d-inline-block w-auto ms-2" min="0" step="1" />
  </label>

  <label class="m-0">
    PM 10 
    <input id="pm10Input" type="number" class="form-control d-inline-block w-auto ms-2" min="0" step="1" />
  </label>
</div>

<div id="top-control-bar" class="d-flex justify-content-end align-items-center flex-wrap w-100 gap-4">
<!-- ‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô + AQI -->
<div class="container-fluid">
  <div class="d-flex justify-content-end align-items-center flex-wrap w-100 gap-4 mt-3">
    <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô -->
<button class="btn btn-outline-info" 
        data-bs-toggle="modal" 
        data-bs-target="#reportModal"
        style="color: white; font-size: 30px;">
  ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®
</button>


  <!-- üîî ‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô -->
  <div class="d-flex align-items-center gap-3">
    <label class="form-check form-switch m-0">
      <input class="form-check-input" type="checkbox" id="toggleAlerts">
      <span class="form-check-label ms-1">‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</span>
    </label>

    <div class="form-check form-check-inline">
      <input class="form-check-input" type="checkbox" id="alertSound" checked>
      <label class="form-check-label" for="alertSound">‡πÄ‡∏™‡∏µ‡∏¢‡∏á</label>
    </div>

    <div class="form-check form-check-inline">
      <input class="form-check-input" type="checkbox" id="alertPopup" checked>
      <label class="form-check-label" for="alertPopup">Pop-up</label>
    </div>
  </div>

  <!-- üü¢ AQI ‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤‡∏™‡∏∏‡∏î -->
  <div class="d-flex align-items-center gap-2">
    <img id="aqi-face"
         src="image/excellent.png"
         alt="Face Status"
         title="Face Status"
         style="height: 80px; border-radius: 1px;" />

    <div class="position-relative" style="width: 300px;">
      <canvas id="aqiScaleBar" width="300" height="70"></canvas>
      <div class="d-flex mt-0 text-center" style="font-size: 14px;">
        <div style="flex: 1;">‡∏î‡∏µ‡∏°‡∏≤‡∏Å</div>
        <div style="flex: 1;">‡∏î‡∏µ</div>
        <div style="flex: 1;">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</div>
        <div style="flex: 1;">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏°‡∏µ‡∏ú‡∏•</div>
        <div style="flex: 1;">‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢</div>
      </div>
    </div>
  </div>

</div>


</section>

<section class="my-3 px-4">
  <div class="row">
   <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏Å‡∏à -->
<div class="col-md-4">
  <h5 style= "font-size: 26px;">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h5>
  
  <div class="d-flex justify-content-start flex-wrap gap-3">
    <div class="text-center">
      <canvas id="gauge-pm25" width="280" height="200"></canvas>
      <div class="gauge-label fs-5 fw-semibold text-white">PM2.5</div>
    </div>
    <div class="text-center">
      <canvas id="gauge-pm10" width="280" height="200"></canvas>
      <div class="gauge-label fs-5 fw-semibold text-white">PM10</div>
    </div>
    <div class="text-center">
      <canvas id="gauge-temp" width="280" height="200"></canvas>
      <div class="gauge-label fs-5 fw-semibold text-white">Temperature</div>
    </div>
    <div class="text-center">
      <canvas id="gauge-humid" width="280" height="200"></canvas>
      <div class="gauge-label fs-5 fw-semibold text-white">Humidity</div>
    </div>
  </div>
</div>

  <!-- ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà Heatmap -->
<div class="col-md-4">
    <h5 style="font-size: 26px;">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û</h5>
  <div class="rounded shadow-sm" style="height: 400px;">   <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3875.790726255974!2d100.73778127485552!3d13.731116286658619!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x311d6705010b8dc5%3A0x69accc2f9c92dd0!2z4LmB4Lie4Lil4LmJ4LiZ4LiX4LmM4Lil4Liy4LiU4LiB4Lij4Liw4Lia4Lix4LiHIEFDUA!5e0!3m2!1sen!2sth!4v1745937370950!5m2!1sen!2sth"
    width="150%"
    height="150%"
    style="border:0;"
    allowfullscreen=""
    loading="lazy">    </iframe>
  </div>
</div>


    <!-- ‡∏Å‡∏£‡∏≤‡∏ü Real-time -->
<div class="col-md-4">
  <h5 style="font-size: 26px;">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ù‡∏∏‡πà‡∏ô‡∏•‡∏∞‡∏≠‡∏≠‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</h5>

   <!-- ‚úÖ ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏ô‡∏¥‡∏î‡∏Ñ‡πà‡∏≤‡∏ù‡∏∏‡πà‡∏ô ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡∏ç‡πà -->
  <!-- ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏ô‡∏¥‡∏î‡∏Ñ‡πà‡∏≤‡∏ù‡∏∏‡πà‡∏ô ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡∏ç‡πà -->
<div class="mb-3 d-flex justify-content-center gap-5">
  <div class="form-check form-check-inline text-white" style="font-size: 1.6rem;">
    <input class="form-check-input" type="checkbox" id="showPM25" checked style="width: 24px; height: 24px;">
    <label class="form-check-label ms-2 fw-bold text-info" for="showPM25">PM2.5</label>
  </div>

  <div class="form-check form-check-inline text-white" style="font-size: 1.6rem;">
    <input class="form-check-input" type="checkbox" id="showPM10" checked style="width: 24px; height: 24px;">
    <label class="form-check-label ms-2 fw-bold text-info" for="showPM10">PM10</label>
  </div>
</div>

  <div class="ratio ratio-4x3">
    <canvas id="realtimeChart"></canvas>
  </div>
</div>
</section>
<!-- Include Gauge rendering logic -->
<script>
function drawGauge(canvasId, value, max, unit, color) {
  const canvas = document.getElementById(canvasId);
  const ctx = canvas.getContext('2d');
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Background arc
  ctx.beginPath();
  ctx.arc(70, 70, 60, Math.PI, 0);
  ctx.lineWidth = 14;
  ctx.strokeStyle = '#eee';
  ctx.stroke();

  // Foreground arc
  const endAngle = Math.PI + (Math.PI * (value / max));
  ctx.beginPath();
  ctx.arc(70, 70, 60, Math.PI, endAngle);
  ctx.lineWidth = 14;
  ctx.strokeStyle = color;
  ctx.stroke();

  // Value Text
  ctx.font = "20px sans-serif";
  ctx.fillStyle = "#ffffff"; // ‚Üê ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å #000 ‡πÄ‡∏õ‡πá‡∏ô #ffffff
  ctx.textAlign = "center";
  ctx.fillText(value, 70, 70);

ctx.font = "12px sans-serif";
ctx.fillText(unit, 70, 90);

}

function getColor(value, type) {
  if (type === 'pm') {
    if (value <= 25) return '#9acd32';
    if (value <= 50) return '#ffcc00';
    if (value <= 100) return '#ff9933';
    if (value <= 200) return '#ff3300';
    return '#cc0033';
  }
  if (type === 'temp' || type === 'humid') {
    if (value < 30) return '#00bfff';
    if (value < 40) return '#ffcc00';
    return '#ff6600';
  }
  return '#999';
}

const sensorRef = firebase.database().ref("iot_data").limitToLast(1);
sensorRef.on("value", (snapshot) => {
  const dataObj = snapshot.val();
  if (!dataObj) return;
  const latestKey = Object.keys(dataObj)[0];
  const data = dataObj[latestKey];

  drawGauge('gauge-pm25', data.pm25 ?? 0, 100, '¬µg/m¬≥', getColor(data.pm25, 'pm'));
  drawGauge('gauge-pm10', data.pm10 ?? 0, 200, '¬µg/m¬≥', getColor(data.pm10, 'pm'));
  drawGauge('gauge-temp', data.temperature ?? 0, 50, '¬∞C', getColor(data.temperature, 'temp'));
  drawGauge('gauge-humid', data.humidity ?? 0, 100, '%', getColor(data.humidity, 'humid'));
});
</script>
<!-- AQI Guide Modal -->
<div class="modal fade" id="aqiModal" tabindex="-1" aria-labelledby="aqiModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="aqiModalLabel">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô AQI</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
        <img src="image/aqi-table.png" alt="AQI Table" class="img-fluid" />
      </div>
    </div>
  </div>
</div>
<section class="my-3">
  <div class="container-fluid px-0"> <!-- ‡∏•‡∏ö padding-x (px-0) -->
    <div class="row g-0"> <!-- ‡∏•‡∏ö‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á columns -->
      <!-- ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≤‡∏ü -->
      <div class="graph-card" style="height: 420px;">
  <h5 style="font-size: 26px;">‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á</h5>
  <canvas id="averageChart" style="width: 100%; height: 100%;"></canvas>
</div>
      </div>
    </div>
  </div>
</section>
<audio id="alertSoundPlayer" src="audio/alert.mp3" preload="auto"></audio>
<script src="script.js"></script>
<!-- Modal ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏® -->
<div class="modal fade" id="reportModal" tabindex="-1" aria-labelledby="reportModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-fullscreen"> <!-- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ -->
    <div class="modal-content bg-dark text-white" style="padding: 20px;">
      <div class="modal-header">
        <h5 class="modal-title" id="reportModalLabel">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
       <!-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà -->
<div class="row mb-3">
  <div class="col">
    <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô:</label>
    <input type="date" id="startDate" class="form-control">
  </div>
  <div class="col">
    <label>‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô:</label>
    <input type="time" id="startTime" class="form-control">
  </div>
  <div class="col">
    <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î:</label>
    <input type="date" id="endDate" class="form-control">
  </div>
  <div class="col">
    <label>‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î:</label>
    <input type="time" id="endTime" class="form-control">
  </div>
</div>
        <!-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏ô‡∏¥‡∏î‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
        <div class="form-check">
  <input class="form-check-input" type="checkbox" id="pm25" value="PM2.5" checked onchange="updateSelectedData()">
  <label class="form-check-label" for="pm25">PM2.5</label>
</div>
<div class="form-check">
  <input class="form-check-input" type="checkbox" id="pm10" value="PM10" checked onchange="updateSelectedData()">
  <label class="form-check-label" for="pm10">PM10</label>
</div>
<div class="form-check">
  <input class="form-check-input" type="checkbox" id="temp" value="Temperature" checked onchange="updateSelectedData()">
  <label class="form-check-label" for="temp">Temperature</label>
</div>
<div class="form-check">
  <input class="form-check-input" type="checkbox" id="humid" value="Humidity" checked onchange="updateSelectedData()">
  <label class="form-check-label" for="humid">Humidity</label>
</div>
        <!-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• -->
        <div class="mb-3">
          <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:</label>
          <select id="viewType" class="form-select">
            <option value="graph">‡∏Å‡∏£‡∏≤‡∏ü</option>
            <option value="table">‡∏ï‡∏≤‡∏£‡∏≤‡∏á</option>
          </select>
        </div>

<!-- üîπ ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å -->
<div id="selectedData" class="mt-3 text-info" style="font-size: 18px;"></div>
        <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° -->
        <div class="d-flex justify-content-between">
          <button class="btn btn-secondary" onclick="clearReportForm()">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
          <button class="btn btn-primary" onclick="generateReport()">‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•</button>
        </div>
        <!-- ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• -->
        <div id="reportResult" class="mt-4">
          <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏£‡∏≤‡∏ü‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ß‡πâ -->
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  function updateSelectedData() {
    const selected = [];
    ['pm25', 'pm10', 'temp', 'humid'].forEach(id => {
      const checkbox = document.getElementById(id);
      if (checkbox.checked) {
        selected.push(checkbox.value);
      }
    });
    const display = document.getElementById('selectedData');
    if (selected.length > 0) {
      display.textContent = '‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡∏∑‡∏≠‡∏Å: ' + selected.join(', ');
    } else {
      display.textContent = '‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏î‡πÄ‡∏•‡∏¢';
    }
  }
  // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏ï‡∏≠‡∏ô‡πÇ‡∏´‡∏•‡∏î modal
  document.addEventListener('DOMContentLoaded', updateSelectedData);
</script>


</body>
</html>
